import{r as y,k as w,d as a,o as l,a as t,i as m,v as x,t as n,F as h,q as _,n as f,u as k}from"./welcome-C2ucf9y6.js";function D(d){return new Date(d).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}const F={class:"container mx-auto px-4 py-8"},C={class:"mb-6"},S={class:"flex gap-4"},E={key:0,class:"text-center py-8"},V={key:1,class:"text-red-600 text-center py-8"},B={key:2,class:"text-center py-8"},P={key:3,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},q={class:"text-xl font-semibold mb-4"},H={class:"overflow-x-auto"},L={class:"min-w-full"},N={class:"px-4 py-2"},U={class:"px-4 py-2"},z={class:"px-4 py-2"},A={class:"px-4 py-2"},K={class:"px-4 py-2"},M={class:"px-4 py-2"},R={__name:"History",props:{results:Array},setup(d){const c=d,i=y({keyword:"",domain:""}),p=y(!1),u=y(null),v=async()=>{var r,e;try{p.value=!0;const s=await axios.get(route("rank-tracker.history"),{params:i.value});c.results=s.data}catch(s){u.value=((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||"Error al cargar datos"}finally{p.value=!1}},g=w(()=>[...new Set(c.results.map(r=>r.keyword.keyword))]),b=r=>c.results.filter(e=>e.keyword.keyword===r).sort((e,s)=>new Date(s.created_at)-new Date(e.created_at));return(r,e)=>(l(),a("div",F,[e[4]||(e[4]=t("h1",{class:"text-2xl font-bold mb-6"},"Historial de Posiciones SEO",-1)),t("div",C,[t("div",S,[m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.value.keyword=s),type:"text",placeholder:"Filtrar por keyword...",class:"px-4 py-2 border rounded"},null,512),[[x,i.value.keyword]]),m(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.value.domain=s),type:"text",placeholder:"Filtrar por dominio...",class:"px-4 py-2 border rounded"},null,512),[[x,i.value.domain]]),t("button",{onClick:v,class:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"}," Filtrar ")])]),p.value?(l(),a("div",E,e[2]||(e[2]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"},null,-1)]))):u.value?(l(),a("div",V,n(u.value),1)):d.results.length===0?(l(),a("div",B," No se encontraron resultados ")):(l(),a("div",P,[(l(!0),a(h,null,_(g.value,s=>(l(),a("div",{key:s,class:"bg-white rounded-lg shadow p-6"},[t("h3",q,n(s),1),t("div",H,[t("table",L,[e[3]||(e[3]=t("thead",null,[t("tr",null,[t("th",{class:"px-4 py-2"},"Fecha"),t("th",{class:"px-4 py-2"},"PosiciÃ³n"),t("th",{class:"px-4 py-2"},"Dominio"),t("th",{class:"px-4 py-2"},"Volumen"),t("th",{class:"px-4 py-2"},"Competencia"),t("th",{class:"px-4 py-2"},"CPC")])],-1)),t("tbody",null,[(l(!0),a(h,null,_(b(s),o=>(l(),a("tr",{key:o.id,class:f({"bg-green-50":o.position<10,"bg-yellow-50":o.position>=10&&o.position<30,"bg-red-50":o.position>=30})},[t("td",N,n(k(D)(o.created_at)),1),t("td",U,n(o.position),1),t("td",z,n(o.domain),1),t("td",A,n(o.search_volume),1),t("td",K,n(o.competition),1),t("td",M,n(o.cpc),1)],2))),128))])])])]))),128))]))]))}};export{R as default};
